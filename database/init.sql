-- CREATE DATABASE
CREATE DATABASE TASKSDB;
USE TASKSDB;

-- CREATE DATAMODEL
DROP TABLE IF EXISTS TASKS;
CREATE TABLE TASKS (
  ID int NOT NULL AUTO_INCREMENT,
  NAME char(255) DEFAULT NULL,
  STATUS varchar(255) DEFAULT NULL,
  DATE_START datetime DEFAULT NULL,
  DATE_END datetime DEFAULT NULL,
  PRIMARY KEY (ID)
);

-- CREATE STORED PROCEDURES
DELIMITER ;;

DROP PROCEDURE IF EXISTS `SP_RETRIEVE_ALL_TASKS`;;
CREATE PROCEDURE `SP_RETRIEVE_ALL_TASKS`()
SELECT
ID,
NAME,
STATUS,
DATE_START,
DATE_END

FROM TASKS
ORDER BY ID DESC;;

DELIMITER ;

-- INSERT MOCK DATA

INSERT INTO TASKS (ID, NAME, STATUS, DATE_START, DATE_END) VALUES
(1,	'TASK_NAME_1',	'STATUS',	'2019-12-31 00:00:00',	'2020-12-31 00:00:00');

INSERT INTO TASKS (ID, NAME, STATUS, DATE_START, DATE_END) VALUES
(2,	'TASK_NAME_2',	'STATUS',	'2019-12-31 00:00:00',	'2020-12-31 00:00:00');

INSERT INTO TASKS (ID, NAME, STATUS, DATE_START, DATE_END) VALUES
(3,	'TASK_NAME_3',	'STATUS',	'2019-12-31 00:00:00',	'2020-12-31 00:00:00');

INSERT INTO TASKS (ID, NAME, STATUS, DATE_START, DATE_END) VALUES
(4,	'TASK_NAME_4',	'STATUS',	'2019-12-31 00:00:00',	'2020-12-31 00:00:00');

INSERT INTO TASKS (ID, NAME, STATUS, DATE_START, DATE_END) VALUES
(5,	'TASK_NAME_5',	'STATUS',	'2019-12-31 00:00:00',	'2020-12-31 00:00:00');

INSERT INTO TASKS (ID, NAME, STATUS, DATE_START, DATE_END) VALUES
(6,	'TASK_NAME_6',	'STATUS',	'2019-12-31 00:00:00',	'2020-12-31 00:00:00');

INSERT INTO TASKS (ID, NAME, STATUS, DATE_START, DATE_END) VALUES
(7,	'TASK_NAME_7',	'STATUS',	'2019-12-31 00:00:00',	'2020-12-31 00:00:00');
